---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import ModalGallery from '../components/ModalGallery.astro';
import GalleryTiles from '../components/GalleryTiles.astro';
import {Image} from 'astro:assets';

import {getCollection} from 'astro:content';
const images = await getCollection('images');
const poppy = images.filter((image) =>
	image.data.project.includes('Poppy')
);
const forillo = images.filter((image) =>
	image.data.project.includes('Forillo')
);
const wise = images.filter((image) =>
	image.data.project.includes('Wise Island')
);
const tupah = images.filter((image) =>
	image.data.project.includes('Tupah')
);
const newcombe = images.filter((image) =>
	image.data.project.includes('Newcombe')
);
const kirzinger = images.filter((image) =>
	image.data.project.includes('Kirzinger')
);
---

<Layout title="John Duncan Ferguson - Portfolio">
	<main class="pt-1">
		<Hero slogan="Portfolio" more="some of the work I've done" cta="" url="" bg="bg-hero-portfolio md:bg-hero-portfolio-lg"/>

		<!-- ======= gallery stuff, first the tiles/buttons that launch the modals, then the modals ============ -->

		<div class="">
			<GalleryTiles />
		</div>

		<ModalGallery
			galleryName="poppy"
			galleryTitle="Poppy"
			owner="Owen Poppy"
			builder="Surfside Construction"
			builderURL="http://www.surfsideconstruction.ca"
			designer="Ivana Maschi"
			designerURL=""
			photographer="Owen Beck"
			photographerURL=""
			previous="kirzinger"
			next="forillo"
		>
			{poppy.map((img) => (
				<Image src={img.data.pathToImage} alt={img.data.credit} width={img.data.width} height={img.data.height}
							 class="h-auto max-w-full"/>
			))
			}
		</ModalGallery>

		<ModalGallery
			galleryName="forillo"
			galleryTitle="Forillo"
			owner=""
			builder=""
			builderURL=""
			designer=""
			designerURL=""
			photographer=""
			photographerURL=""
			previous="poppy"
			next="wise"
		>
			{forillo.map((img) => (
				<Image src={img.data.pathToImage} alt={img.data.credit} width={img.data.width} height={img.data.height}
							 class="h-auto max-w-full"/>
			))
			}
		</ModalGallery>

		<ModalGallery
			galleryName="wise"
			galleryTitle="Wise Island"
			owner=""
			builder=""
			builderURL=""
			designer=""
			designerURL=""
			photographer=""
			photographerURL=""
			previous="forillo"
			next="tupah"
		>
			{wise.map((img) => (
				<Image src={img.data.pathToImage} alt={img.data.credit} width={img.data.width} height={img.data.height}
							 class="h-auto max-w-full"/>
			))
			}
		</ModalGallery>

		<ModalGallery
			galleryName="tupah"
			galleryTitle="Tupah"
			owner=""
			builder="Surfside Construction"
			builderURL="http://www.surfsideconstruction.ca"
			designer="Ivana Maschi"
			designerURL=""
			photographer=""
			photographerURL=""
			previous="wise"
			next="newcombe"
		>
			{tupah.map((img) => (
				<Image src={img.data.pathToImage} alt={img.data.credit} width={img.data.width} height={img.data.height}
							 class="h-auto max-w-full"/>
			))
			}
		</ModalGallery>

		<ModalGallery
			galleryName="newcombe"
			galleryTitle="Newcombe"
			owner=""
			builder=""
			builderURL=""
			designer=""
			designerURL=""
			photographer=""
			photographerURL=""
			previous="tupah"
			next="kirzinger"
		>
			{newcombe.map((img) => (
				<Image src={img.data.pathToImage} alt={img.data.credit} width={img.data.width} height={img.data.height}
							 class="h-auto max-w-full"/>
			))
			}
		</ModalGallery>

		<ModalGallery
			galleryName="kirzinger"
			galleryTitle="Kirzinger"
			owner=""
			builder=""
			builderURL=""
			designer=""
			designerURL=""
			photographer="Mike Kondra"
			photographerURL=""
			previous="newcombe"
			next="poppy"
		>
			{kirzinger.map((img) => (
				<Image src={img.data.pathToImage} alt={img.data.credit} width={img.data.width} height={img.data.height}
							 class="h-auto max-w-full"/>
			))
			}
		</ModalGallery>


		<!-- ======== end the gallery stuff =========== -->

	</main>
</Layout>
